<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="user-scalable=no">

  <title>Editor</title>

  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
</head>
<body>

<canvas id="my-canvas" width="1024" height="800"></canvas>

<style type="text/css">
    html,body{
      overflow: hidden
    }
    html, css{
    touch-action:none;
  }
  body {
    -ms-content-zooming: none;
  }
</style>

<script src="bower_components/EaselJS/lib/easeljs.min.js"></script>
<script src="bower_components/TweenJS/lib/tweenjs.min.js"></script>
<script src="bower_components/ace-builds/src/ace.js"></script>
<script src="src/visualProgramming.js"></script>
<script>
    // 初期化
    var pm;
    window.onload = function() {
      var elm = document.getElementById('my-canvas')
      elm.width = window.innerWidth
      elm.height = window.innerHeight
      elm.style.position = 'fixed';
      elm.style.top = '0px';
      elm.style.left = '0px';
      elm.style.width = elm.width + 'px';
      elm.style.height= elm.height + 'px';

      pm = new program_manager('my-canvas', createjs, ace);

      var tw = elm.width
      var th = elm.height
      setInterval(()=>{
        if(window.innerWidth!=tw || window.innerHeight!=th){
          tw = window.innerWidth
          th = window.innerHeight
          pm.set_size(tw,th)
        }
      },1000)
    }
    function down(){
      //pm.emit_all_code()
      //pm.serialize_all_code()
    }
</script>

</body>
</html>

